<script type="text/javascript" language="javascript">

window.onload = function(e) { 
	send(); 
};

function send()
{
	var request = new XMLHttpRequest();
	request.open("GET", "https://api.exmo.com/v1/ticker/", false);
	request.send();
	
	var response = JSON.parse(request.responseText);
	
	var htmlText = "<table border='1' width=50%>";
	htmlText += "<tr> <th></th> <th>UAH</th> <th>USD</th> <th>USDT</th> <th>EUR</th> <th>PLN</th></tr>";

	// BTC row
	htmlText += "<tr> <th>BTC</th>";
	htmlText += "<td>" +  get_buy_price(response.BTC_UAH) +  "</td>";

	htmlText += "<td>" +  get_buy_price(response.BTC_USD);
	htmlText += " (" +  get_rate(response.BTC_UAH, response.BTC_USD) + ")";
	htmlText += "</td>";
	htmlText += "<td>" +  get_buy_price(response.BTC_USDT);
	htmlText += " (" +  get_rate(response.BTC_UAH, response.BTC_USDT) + ")";
	htmlText += "</td>";
	htmlText += "<td>" +  get_buy_price(response.BTC_EUR);
	htmlText += " (" +  get_rate(response.BTC_UAH, response.BTC_EUR) + ")";
	htmlText += "</td>";
	htmlText += "<td>" +  get_buy_price(response.BTC_PLN);
	htmlText += " (" +  get_rate(response.BTC_UAH, response.BTC_PLN) + ")";
	htmlText += "</td>";

	htmlText += "</tr>";
	
	// ETH row
	htmlText += "<tr> <th>ETH</th>";
	htmlText += "<td>" +  get_buy_price(response.ETH_UAH) + "</td>";

	htmlText += "<td>" +  get_buy_price(response.ETH_USD);
	htmlText += " (" +  get_rate(response.ETH_UAH, response.ETH_USD) + ")";
	htmlText += "</td>";
	htmlText += "<td>" +  get_buy_price(response.ETH_USDT);
	htmlText += " (" +  get_rate(response.ETH_UAH, response.ETH_USDT) + ")";
	htmlText += "</td>";
	htmlText += "<td>" +  get_buy_price(response.ETH_EUR);
	htmlText += " (" +  get_rate(response.ETH_UAH, response.ETH_EUR) + ")";
	htmlText += "</td>";

	htmlText += "</tr>";
	
	document.getElementById("div").innerHTML = htmlText;
}

function get_buy_price(pair)
{
	return pair.buy_price;
}

// Get y to x price 
function get_rate(c_to_x_price, c_to_y_price)
{
	return (get_buy_price(c_to_x_price) / get_buy_price(c_to_y_price)).toFixed(2);
}
</script>


<html>
<title>Exmo API</title> 
<div id='div'></div>
</html>
